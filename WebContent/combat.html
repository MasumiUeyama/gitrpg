<HTML>
<HEAD>

<TITLE>バトル</TITLE>

	<script type="text/javascript" src="dwr/engine.js"></script>
    <script type="text/javascript" src="dwr/util.js"></script>
    <script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="js/jquery.serialize.js"></script>
    <script type="text/javascript" src="dwr/interface/main.js"></script>
    <script type="text/javascript" src="dwr/interface/get.js"></script>


</HEAD>

<BODY>

<!--user1-->

<div style="position: absolute; top:50; left:250;">
<font size="5">
<span class="user-name1"></span>
</font>
</div>

<p class="resizeimage">

<div style="position: absolute;top:100;left:100;>
<div style="vertical-align: middle">
<img class="getPhoto1" border="1" src="" width="400" height="350">
</div>
</p>

<div style="position: absolute; top:475; left:100;
border-style: solid ; border-width: 1px;padding: 10px 5px 10px 10px;border-color:red;width: 200px">
合計=<span class="commitCount"></span>
</div><br>


<div style="position: absolute; top:530; left:100;
border-style: solid ; border-width: 1px; padding: 10px 5px 10px 10px; border-color: black;width: 200px;">
コミット数 = <span class="commitCount"></span>
</div><br>

<div style="position: absolute; top:585; left:100;
border-style: solid ; border-width: 1px; padding: 10px 5px 10px 10px; border-color: black;width: 200px;">
コメント数 = <span class="countComment"></span>
</div><br>

<div style="position: absolute; top:635; left:100;
border-style: solid ; border-width: 1px; padding: 10px 5px 10px 10px; border-color: black;width: 200px;">
実装行数 = <span class="getChange2"></span>
</div><br>


<!--結果ボタン-->

<div style="position: absolute; top:400; left:625;">
<form action="result.html" method="get">

  <input id="userNameInput1" type="hidden" name="user1" value="">
  <input id="userNameInput2" type="hidden" name="user2" value="">

  <input type="submit" style="font-size:20px;" value="結果">
</form>
</div>





<div style="position: absolute; top:300; left:625;">
<font size="8">
 VS
</font>
</div>


<!--user2-->

<div style="position: absolute; top:50; left:950;">
<font size="5">
<span class="user-name2"></span>
</font>
</div>

<p class="resizeimage">

<div style="position: absolute;top:100;left:800;>
<div style="vertical-align: middle">
<img class="getPhoto2" border="1" src="" width="400" height="350">
</div>
</p>

<div style="position: absolute; top:475; left:800;
border-style: solid ; border-width: 1px;padding: 10px 5px 10px 10px;border-color:red;width: 200px">
合計=<span class="commitCount"></span>
</div><br>


<div style="position: absolute; top:530; left:800;
border-style: solid ; border-width: 1px; padding: 10px 5px 10px 10px; border-color: black;width: 200px;">
コミット数 = <span class="commitCount"></span>
</div><br>

<div style="position: absolute; top:585; left:800;
border-style: solid ; border-width: 1px; padding: 10px 5px 10px 10px; border-color: black;width: 200px;">
コメント数 = <span class="countComment"></span>
</div><br>

<div style="position: absolute; top:635; left:800;
border-style: solid ; border-width: 1px; padding: 10px 5px 10px 10px; border-color: black;width: 200px;">
実装行数 = <span class="getChange2"></span>
</div><br>


 <script type="text/javascript">

 var user1;
 var user2;
 var repo;
 var place;


 $(document).ready(function(){
 	var arg = new Object;
 	var pair=location.search.substring(1).split('&');
 	for(var i=0;pair[i];i++) {
 	    var kv = pair[i].split('=');
 	    arg[kv[0]]=kv[1];
 	}
 	user1 = arg.user1;
 	user2 = arg.user2;
 	repo = arg.repo;
 	place =arg.place;
 	commit();

 	$("#userNameInput1").attr("value", arg.user1);
 	$("#userNameInput2").attr("value", arg.user2);
 	$(".user-name1").text(user1);
	$(".user-name2").text(user2);

 });


	function commit(){
  		main.main({
  			callback: function(data){
  				$(".commitCount").text(data);
  			}
  		});
  	}

    $(document).ready(function(){
    	countComment();
    });

  	function countComment(){
  		get.countComment(user1,{
  			callback: function(data){
  				$(".countComment").text(data);
  			}
  		});
  	}

    $(document).ready(function(){
    	getChange2();
    });

  	function getChange2(){
  		get.getChange2(user1,{
  			callback: function(data){
  /*				console.log(data);*/
  				$(".getChange2").text(data);
  			}
  		});
  	}


 $(document).ready(function(){
 	getPhoto1();
 });

	function getPhoto1(){
		get.getPhoto(user1, {
			callback: function(data){
				$(".getPhoto1").attr("src", data);
			}
		});
	}

	  $(document).ready(function(){
	    	getPhoto2();
	    });

	  	function getPhoto2(){
	  		get.getPhoto(user2, {
	  			callback: function(data){
	  				$(".getPhoto2").attr("src", data);
	  			}
	  		});
	  	}





</script>
</BODY>
</HTML>